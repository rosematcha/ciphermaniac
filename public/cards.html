<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pokemon TCG Card Database - Usage Stats & Prices | Ciphermaniac</title>
    <meta
      name="description"
      content="Browse Pokemon TCG card usage statistics, deck inclusion rates, and market prices. Filter by archetype, card type, set, and tournament performance."
    />
    <meta
      name="keywords"
      content="Pokemon TCG cards, card usage statistics, Pokemon card prices, deck inclusion rates, PTCG database, Pokemon card search"
    />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://ciphermaniac.com/cards" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://ciphermaniac.com/cards" />
    <meta property="og:title" content="Pokemon TCG Card Database - Usage Stats & Prices" />
    <meta
      property="og:description"
      content="Browse Pokemon TCG card usage statistics, deck inclusion rates, and market prices. Filter by archetype, card type, set, and tournament performance."
    />
    <meta property="og:image" content="https://ciphermaniac.com/assets/images/og-image.png" />
    <meta property="og:site_name" content="Ciphermaniac" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://ciphermaniac.com/cards" />
    <meta name="twitter:title" content="Pokemon TCG Card Database" />
    <meta
      name="twitter:description"
      content="Browse Pokemon TCG card usage statistics, deck inclusion rates, and market prices."
    />
    <meta name="twitter:image" content="https://ciphermaniac.com/assets/images/og-image.png" />

    <!-- Favicon - PNG for Google compatibility -->
    <link rel="icon" type="image/png" sizes="48x48" href="/assets/images/favicon-48x48.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-16x16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <meta name="theme-color" content="#fee475" />

    <!-- Preload critical font to reduce layout shift -->
    <link rel="preload" href="/assets/fonts/fraunces.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="stylesheet" href="/assets/style.css" />
    <!-- Preload critical JS modules for faster page load -->
    <link rel="modulepreload" href="/assets/js/main.js" />
    <link rel="modulepreload" href="/assets/js/ui.js" />
  </head>
  <body>
    <div class="toolbar" role="search" aria-label="Card filtering and search">
      <div class="toolbar-inner">
        <div class="controls">
          <input
            id="search"
            type="search"
            placeholder="Search cardsâ€¦"
            aria-label="Search cards by name"
            autocomplete="off"
            role="searchbox"
          />
          <button
            id="filtersToggle"
            class="filters-toggle"
            type="button"
            aria-expanded="false"
            aria-controls="filters"
            data-cm-filters-owner="main"
          >
            Filters
          </button>
          <div
            id="filters"
            class="filters"
            aria-hidden="true"
            data-cm-filters-owner="main"
            role="group"
            aria-label="Filter options"
          >
            <div class="filter-field filter-dropdown filter-field--archetype" data-filter="archetypes">
              <span
                class="filter-label"
                id="archetype-label"
                data-label-singular="Archetype"
                data-label-plural="Archetypes"
                >Archetype</span
              >
              <div class="filter-combobox" role="group" aria-labelledby="archetype-label">
                <button
                  id="archetype-trigger"
                  class="filter-trigger"
                  type="button"
                  aria-haspopup="listbox"
                  aria-expanded="false"
                  aria-controls="archetype-menu"
                >
                  <span class="filter-value" id="archetype-summary">All archetypes</span>
                </button>
                <div
                  id="archetype-chips"
                  class="filter-chip-list"
                  role="list"
                  aria-live="polite"
                  aria-relevant="additions removals"
                  hidden
                ></div>
                <button
                  id="archetype-add"
                  class="filter-add-btn"
                  type="button"
                  aria-label="Add another archetype"
                  hidden
                >
                  Add another
                </button>
              </div>
              <div id="archetype-menu" class="filter-menu" role="dialog" aria-label="Select archetypes" hidden>
                <div class="filter-menu-header">
                  <input
                    id="archetype-search"
                    type="search"
                    placeholder="Search archetypes"
                    aria-label="Search archetypes"
                  />
                </div>
                <div
                  id="archetype-options"
                  class="filter-menu-list"
                  role="listbox"
                  aria-multiselectable="true"
                  aria-labelledby="archetype-label"
                >
                  <!-- populated dynamically -->
                </div>
                <div class="filter-menu-actions" data-multi-only>
                  <button type="button" class="filter-action" data-action="clear">Clear</button>
                  <button type="button" class="filter-action filter-action-primary" data-action="close">Done</button>
                </div>
              </div>
            </div>

            <div class="filter-field filter-dropdown filter-field--card-type" data-filter="card-types">
              <span
                class="filter-label"
                id="card-type-label"
                data-label-singular="Card type"
                data-label-plural="Card types"
                >Card type</span
              >
              <div class="filter-combobox">
                <button
                  id="card-type-filter-trigger"
                  class="filter-trigger"
                  type="button"
                  aria-haspopup="listbox"
                  aria-expanded="false"
                  aria-labelledby="card-type-label card-type-filter-summary"
                >
                  <span id="card-type-filter-summary" class="filter-summary">All card types</span>
                </button>
                <div
                  id="card-type-filter-chips"
                  class="filter-chips"
                  role="list"
                  aria-label="Selected card types"
                  hidden
                ></div>
                <button
                  id="card-type-filter-add"
                  class="filter-add-btn"
                  type="button"
                  aria-label="Add another card type"
                  hidden
                >
                  Add another
                </button>
              </div>
              <div id="card-type-filter-menu" class="filter-menu" role="dialog" aria-label="Select card types" hidden>
                <div class="filter-menu-header">
                  <input
                    id="card-type-filter-search"
                    type="search"
                    placeholder="Search card types"
                    aria-label="Search card types"
                  />
                </div>
                <div
                  id="card-type-filter-list"
                  class="filter-menu-list"
                  role="listbox"
                  aria-multiselectable="true"
                  aria-labelledby="card-type-label"
                >
                  <!-- populated dynamically -->
                </div>
                <div class="filter-menu-actions" data-multi-only>
                  <button type="button" class="filter-action" data-action="clear">Clear</button>
                  <button type="button" class="filter-action filter-action-primary" data-action="close">Done</button>
                </div>
              </div>
              <!-- Hidden input for state persistence -->
              <input type="hidden" id="card-type-filter-data" value="" />
            </div>

            <div class="filter-field filter-field--sort">
              <label for="sort" class="filter-label">Sort</label>
              <select id="sort" aria-label="Sort order">
                <option value="percent-desc">Sort: most used</option>
                <option value="percent-asc">Sort: least used</option>
                <option value="alpha-asc">Sort: A-Z</option>
                <option value="alpha-desc">Sort: Z-A</option>
                <option value="price-desc">Sort: highest price</option>
                <option value="price-asc">Sort: lowest price</option>
              </select>
            </div>

            <div class="filter-field filter-field--success">
              <label for="success-filter" class="filter-label">Finish</label>
              <select id="success-filter" aria-label="Filter by placement">
                <option value="all">All decks</option>
                <option value="winner">Winners</option>
                <option value="top2">Finals</option>
                <option value="top4">Top 4</option>
                <option value="top8">Top 8</option>
                <option value="top16">Top 16</option>
                <option value="top10">Top 10%</option>
                <option value="top25">Top 25%</option>
                <option value="top50">Top 50%</option>
              </select>
            </div>

            <div class="filter-field filter-dropdown filter-field--tournaments" data-filter="tournaments">
              <span
                class="filter-label"
                id="tournament-label"
                data-label-singular="Tournament"
                data-label-plural="Tournaments"
                >Tournament</span
              >
              <div class="filter-combobox" role="group" aria-labelledby="tournament-label">
                <button
                  id="tournament-trigger"
                  class="filter-trigger"
                  type="button"
                  aria-haspopup="listbox"
                  aria-expanded="false"
                  aria-controls="tournament-menu"
                >
                  <span class="filter-value" id="tournament-summary">Latest event</span>
                </button>
                <div
                  id="tournament-chips"
                  class="filter-chip-list"
                  role="list"
                  aria-live="polite"
                  aria-relevant="additions removals"
                  hidden
                ></div>
                <button
                  id="tournament-add"
                  class="filter-add-btn"
                  type="button"
                  aria-label="Add another tournament"
                  hidden
                >
                  Add another
                </button>
              </div>
              <div id="tournament-menu" class="filter-menu" role="dialog" aria-label="Select tournaments" hidden>
                <div class="filter-menu-header">
                  <input
                    id="tournament-search"
                    type="search"
                    placeholder="Search tournaments"
                    aria-label="Search tournaments"
                  />
                </div>
                <div
                  id="tournament-options"
                  class="filter-menu-list"
                  role="listbox"
                  aria-multiselectable="true"
                  aria-labelledby="tournament-label"
                >
                  <!-- populated dynamically -->
                </div>
                <div class="filter-menu-actions" data-multi-only>
                  <button type="button" class="filter-action" data-action="select-all">Select all</button>
                  <button type="button" class="filter-action" data-action="clear">Clear</button>
                  <button type="button" class="filter-action filter-action-primary" data-action="close">Done</button>
                </div>
              </div>
            </div>

            <div class="filter-field filter-dropdown filter-field--set" data-filter="sets">
              <span class="filter-label" id="set-label" data-label-singular="Set" data-label-plural="Sets">Set</span>
              <div class="filter-combobox" role="group" aria-labelledby="set-label">
                <button
                  id="set-trigger"
                  class="filter-trigger"
                  type="button"
                  aria-haspopup="listbox"
                  aria-expanded="false"
                  aria-controls="set-menu"
                >
                  <span class="filter-value" id="set-summary">All sets</span>
                </button>
                <div
                  id="set-chips"
                  class="filter-chip-list"
                  role="list"
                  aria-live="polite"
                  aria-relevant="additions removals"
                  hidden
                ></div>
                <button id="set-add" class="filter-add-btn" type="button" aria-label="Add another set" hidden>
                  Add another
                </button>
              </div>
              <div id="set-menu" class="filter-menu" role="dialog" aria-label="Filter by set" hidden>
                <div class="filter-menu-header">
                  <input id="set-search" type="search" placeholder="Search sets" aria-label="Search sets" />
                </div>
                <div
                  id="set-options"
                  class="filter-menu-list"
                  role="listbox"
                  aria-multiselectable="true"
                  aria-labelledby="set-label"
                >
                  <!-- populated dynamically -->
                </div>
                <div class="filter-menu-actions" data-multi-only>
                  <button type="button" class="filter-action" data-action="clear">Clear sets</button>
                  <button type="button" class="filter-action filter-action-primary" data-action="close">Done</button>
                </div>
              </div>
              <input id="set-filter-data" type="hidden" value="" />
            </div>
          </div>
        </div>
      </div>
    </div>

    <main id="main-content">
      <section id="grid" class="grid" aria-live="polite" role="grid" aria-label="Card usage grid">
        <!-- Skeleton will be generated by JS with proper responsive dimensions -->
      </section>
    </main>

    <template id="card-template">
      <article class="card" tabindex="0">
        <div class="thumb">
          <img alt="" />
          <div class="overlay">
            <div class="hist" aria-label="Count distribution per copies">
              <!-- columns inserted by JS -->
            </div>
            <div class="usagebar" title="Usage %">
              <div class="bar"></div>
              <span class="pct"></span>
            </div>
          </div>
        </div>
        <div class="titleRow">
          <h3 class="name"></h3>
          <div class="counts"></div>
        </div>
      </article>
    </template>

    <script type="module">
      import { createHeader } from '/assets/js/components/header.js';
      import { createFooter } from '/assets/js/components/footer.js';

      // Insert header and footer
      const header = createHeader({ currentPage: 'cards' });
      const footer = createFooter();

      document.body.insertAdjacentElement('afterbegin', header);
      document.body.insertAdjacentElement('beforeend', footer);
    </script>
    <script src="/assets/js/main.js" type="module"></script>
    <script src="/assets/js/ui.js" type="module"></script>
  </body>
</html>
