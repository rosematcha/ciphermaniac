<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tournament Graphics Generator - Pokemon TCG | Ciphermaniac</title>
    <meta
      name="description"
      content="Generate shareable tournament usage graphics for Pokemon TCG events. Create visual meta reports for social media."
    />
    <meta
      name="keywords"
      content="Pokemon TCG graphics, tournament report, meta graphics, social media, PTCG visuals"
    />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://ciphermaniac.com/tools/social-graphics" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://ciphermaniac.com/tools/social-graphics" />
    <meta property="og:title" content="Tournament Graphics Generator - Pokemon TCG" />
    <meta property="og:description" content="Generate shareable tournament usage graphics for Pokemon TCG events." />
    <meta property="og:image" content="https://ciphermaniac.com/assets/images/og-image.png" />
    <meta property="og:site_name" content="Ciphermaniac" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://ciphermaniac.com/tools/social-graphics" />
    <meta name="twitter:title" content="Tournament Graphics Generator" />
    <meta name="twitter:description" content="Generate shareable Pokemon TCG tournament graphics." />
    <meta name="twitter:image" content="https://ciphermaniac.com/assets/images/og-image.png" />

    <!-- Favicon - PNG for Google compatibility -->
    <link rel="icon" type="image/png" sizes="48x48" href="/assets/images/favicon-48x48.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-16x16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <meta name="theme-color" content="#fee475" />

    <link rel="preload" href="/assets/fonts/fraunces.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="stylesheet" href="../assets/style.css" />
    <style>
      .graphics-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: var(--spacing-xl) var(--spacing-lg);
      }

      .controls-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: var(--spacing-lg);
        margin-bottom: var(--spacing-xl);
      }

      .control-group {
        margin-bottom: 0;
      }

      .control-group label {
        display: block;
        margin-bottom: var(--spacing-sm);
        color: var(--text);
        font-weight: 500;
      }

      .control-group input[type='checkbox'] {
        margin-right: var(--spacing-sm);
      }

      .control-group select,
      .control-group input[type='number'] {
        background: var(--bg);
        color: var(--text);
        border: 1px solid #2c335a;
        border-radius: var(--border-radius);
        padding: var(--spacing-md);
        font-family: var(--font-family);
        font-size: var(--font-size-base);
        max-width: 300px;
      }

      .control-group select:focus,
      .control-group input[type='number']:focus {
        outline: none;
        border-color: var(--accent-2);
        box-shadow: 0 0 0 2px rgba(106, 163, 255, 0.1);
      }

      .graphics-output {
        background: var(--panel);
        border: 1px solid #242a4a;
        border-radius: var(--border-radius-lg);
        padding: var(--spacing-xl);
        margin: var(--spacing-xl) 0;
        min-height: 100px;
      }

      .export-controls {
        display: flex;
        gap: var(--spacing-md);
        justify-content: center;
        margin-top: var(--spacing-xl);
      }

      .featured-card-container {
        flex: 1;
        height: 432px;
        display: flex;
        align-items: stretch;
        justify-content: center;
      }

      .bracket-right {
        flex: 2;
        height: 432px;
        display: flex;
        flex-direction: column;
        gap: var(--spacing-md);
      }

      .bracket-row {
        display: flex;
        gap: var(--spacing-md);
      }

      .bracket-row.medium-row {
        justify-content: flex-start;
      }

      .bracket-row.small-row {
        justify-content: flex-start;
      }

      .bracket-row.medium-row .card-graphic {
        flex: 1;
        max-width: 300px;
      }

      .bracket-row.small-row .card-graphic {
        flex: 1;
        min-width: 0;
      }

      /* Restore main layout */
      .tournament-layout {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-xl);
        min-height: 600px;
      }

      .tournament-main {
        display: flex;
        gap: var(--spacing-xl);
        align-items: stretch;
      }

      .bottom-row {
        display: flex;
        gap: var(--spacing-md);
        width: 100%;
        justify-content: space-between;
      }

      .bottom-row .card-graphic {
        flex: 1;
        height: 160px;
        min-width: 0;
      }

      .card-graphic {
        display: flex;
        flex-direction: column;
        padding: 0;
        background: var(--panel);
        border-radius: var(--border-radius-lg);
        color: var(--text);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        position: relative;
        overflow: hidden;
      }

      .card-graphic.featured {
        width: 432px;
        height: 432px;
        min-height: 400px;
        flex-direction: column;
        text-align: center;
        border-width: 4px;
        flex-shrink: 0;
      }

      /* no special transform for featured image; uniform cropping is used */

      .card-graphic.medium {
        height: 220px;
      }

      .card-graphic.small {
        height: 190px;
      }

      /* Optional tiny size used for dense rows */
      .card-graphic.tiny {
        height: 160px;
      }

      /* Remove older small overrides; global/per-row rules handle sizes */

      .card-rank-badge {
        position: absolute;
        top: 6px;
        left: 6px;
        background: #ff4444;
        color: white;
        width: clamp(36px, 5vw, 50px);
        height: clamp(36px, 5vw, 50px);
        border-radius: 999px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 800;
        font-size: clamp(0.95rem, 1.2vw + 0.35rem, 1.35rem);
        border: 3px solid white;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        z-index: 10;
      }

      .card-graphic.featured .card-rank-badge {
        width: clamp(60px, 7vw, 80px);
        height: clamp(60px, 7vw, 80px);
        font-size: clamp(1.5rem, 2.2vw + 0.5rem, 2.25rem);
        top: 6px;
        left: 6px;
        z-index: 10;
      }

      .card-image-container {
        width: 100%;
        overflow: hidden;
        position: relative;
        flex: 1;
        border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
      }

      .card-chin {
        background: var(--panel);
        padding: 4px; /* uniform padding requested */
        border-top: 1px solid var(--border-color);
        display: flex;
        justify-content: space-between;
        align-items: center;
        min-height: 36px;
      }
      /* Tighter chins so text sits closer to images */
      /* Uniform padding across all rows */
      .card-graphic.featured .card-chin,
      .bracket-row.medium-row .card-graphic .card-chin,
      .bracket-row.small-row .card-graphic .card-chin,
      .bottom-row .card-graphic .card-chin {
        padding: 4px;
      }

      .card-chin-left {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        flex: 1 1 auto;
        min-width: 0;
      }

      .card-chin-right {
        font-size: clamp(1rem, 0.8vw + 0.8rem, 1.4rem);
        font-weight: 800;
        color: var(--accent);
        letter-spacing: -0.01em;
        white-space: nowrap;
        flex: 0 0 auto;
        margin-left: var(--spacing-md);
      }

      .card-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .card-info {
        flex: none;
      }

      .card-name {
        font-size: clamp(0.98rem, 0.7vw + 0.7rem, 1.2rem);
        font-weight: 700;
        margin-bottom: 1px;
        color: var(--text);
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.25);
        text-indent: 0;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 100%;
        letter-spacing: -0.01em;
        line-height: 1.2;
      }

      /* Remove global left margin from shared .card-name on this page only */
      .graphics-output .card-name,
      .card-graphic .card-name {
        margin-left: 0 !important;
      }

      /* Per-size and per-row font rhythm */
      .card-graphic.featured .card-name {
        font-size: 1.15rem;
      }
      .card-graphic.featured .card-usage {
        font-size: 0.92rem;
      }
      .card-graphic.featured .card-chin-right {
        font-size: 1.4rem;
      }

      /* 2–4: medium cards */
      .bracket-row.medium-row .card-graphic .card-name {
        font-size: 1.02rem;
      }
      .bracket-row.medium-row .card-graphic .card-usage {
        font-size: 0.88rem;
      }
      .bracket-row.medium-row .card-graphic .card-chin-right {
        font-size: 1.2rem;
      }

      /* 5–8: small cards (slightly smaller than medium) */
      .bracket-row.small-row .card-graphic .card-name {
        font-size: 0.92rem;
      }
      .bracket-row.small-row .card-graphic .card-usage {
        font-size: 0.82rem;
      }
      .bracket-row.small-row .card-graphic .card-chin-right {
        font-size: 1.05rem;
      }

      /* 9–20: bottom rows (tiny/densest) */
      .bottom-row .card-graphic .card-name {
        font-size: 0.86rem;
      }
      .bottom-row .card-graphic .card-usage {
        font-size: 0.76rem;
      }
      .bottom-row .card-graphic .card-chin-right {
        font-size: 0.96rem;
      }

      .card-rank {
        font-size: var(--font-size-lg);
        margin-bottom: var(--spacing-md);
        color: rgba(255, 255, 255, 0.9);
        font-weight: 500;
      }

      .card-usage {
        font-size: clamp(0.78rem, 0.4vw + 0.5rem, 0.93rem);
        margin-top: 0;
        margin-bottom: 0;
        color: var(--muted);
        text-indent: 0;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .histogram {
        display: flex;
        height: 20px;
        align-items: end;
        gap: 1px;
        background: rgba(255, 255, 255, 0.1);
        padding: var(--spacing-xs);
        border-radius: var(--border-radius);
        width: fit-content;
        margin-top: var(--spacing-xs);
      }

      .histogram-bar {
        background: rgba(255, 255, 255, 0.9);
        min-width: 8px;
        width: 8px;
        border-radius: 1px;
        display: flex;
        align-items: end;
        justify-content: center;
        font-size: 8px;
        font-weight: bold;
        color: #333;
      }

      .graphics-output:empty::before {
        content: "Click 'Generate Graphics' to create tournament usage graphics";
        color: var(--muted);
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100px;
        font-style: italic;
      }

      /* Header (moved from inline styles in JS) */
      .graphics-header {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        margin-bottom: var(--spacing-xl);
        padding: var(--spacing-lg);
        background: var(--panel);
        border-radius: var(--border-radius-lg);
        border: 1px solid var(--border-color);
        gap: var(--spacing-sm);
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
      }

      .graphics-title {
        font-family: var(--font-family);
        font-size: clamp(1.8rem, 2.2vw + 1rem, 3rem);
        font-weight: 900;
        margin: 0;
        color: var(--text);
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.18);
        letter-spacing: -0.02em;
        line-height: 1.08;
      }

      .graphics-subtitle {
        font-family: var(--font-family);
        font-size: clamp(1rem, 0.9vw + 0.75rem, 1.35rem);
        margin: 0;
        color: rgba(255, 255, 255, 0.9);
        font-weight: 700;
        font-style: italic;
        letter-spacing: -0.005em;
      }

      @media (max-width: 1200px) {
        .graphics-container {
          max-width: 95vw;
        }
        /* Header already stacks; no override needed */

        .tournament-layout {
          flex-direction: column;
          gap: var(--spacing-lg);
        }

        .card-grid {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 720px) {
        .graphics-container {
          padding: var(--spacing-lg) var(--spacing-md);
          max-width: 100vw;
        }

        .controls-grid {
          grid-template-columns: 1fr;
          gap: var(--spacing-md);
        }

        .export-controls {
          flex-direction: column;
          align-items: center;
        }

        .card-graphic {
          flex-direction: column;
          text-align: center;
        }

        .card-graphic .card-image-container {
          margin-right: 0;
          margin-bottom: var(--spacing-lg);
          width: 200px;
          height: 125px;
        }

        .card-graphic.featured .card-image-container {
          width: 280px;
          height: 175px;
        }

        .card-rank-badge {
          width: 40px;
          height: 40px;
          font-size: var(--font-size-lg);
        }

        .card-graphic.featured .card-rank-badge {
          width: 54px;
          height: 54px;
          font-size: 1.6rem;
        }
      }
    </style>
  </head>
  <body>
    <main>
      <div class="graphics-container">
        <h1>Tournament Usage Graphics Generator</h1>

        <div class="card-sect">
          <div class="controls-grid">
            <div class="control-group">
              <label for="tournament-select">Select Tournament:</label>
              <select id="tournament-select">
                <option value="">Loading tournaments...</option>
              </select>
            </div>

            <div class="control-group">
              <label for="comparison-tournament-select">Compare Against (Optional):</label>
              <select id="comparison-tournament-select">
                <option value="">No comparison...</option>
              </select>
            </div>

            <div class="control-group">
              <label for="display-mode">Display Mode:</label>
              <select id="display-mode">
                <option value="standard">Most Used Cards</option>
                <option value="no-leaders">Most Used (Excluding Consistent Leaders)</option>
                <option value="rising">Most On-the-Rise Cards</option>
              </select>
            </div>

            <div class="control-group">
              <label for="graphics-layout">Graphics Layout:</label>
              <select id="graphics-layout">
                <option value="8">Top 8 Only (Main Tournament)</option>
                <option value="14">Top 14 (Main + First Row)</option>
                <option value="20" selected>Top 20 (Main + Both Rows)</option>
              </select>
            </div>
          </div>

          <!-- Hidden crop parameters with default values -->
          <div class="crop-controls" style="display: none">
            <input type="number" id="crop-sides" value="22" min="0" max="100" />
            <input type="number" id="trainer-crop-top" value="4" min="-50" max="200" />
            <input type="number" id="pokemon-crop-top" value="-13" min="-50" max="200" />
          </div>

          <div class="action-row">
            <button id="generate-btn" class="btn">Generate Graphics</button>
          </div>
        </div>

        <div id="graphics-output" class="graphics-output"></div>

        <div class="export-controls">
          <button id="export-png" class="btn">Export as PNG</button>
          <button id="export-jpg" class="btn">Export as JPG</button>
        </div>
      </div>
    </main>

    <script type="module">
      import { createHeader } from '../assets/js/components/header.js';
      import { createFooter } from '../assets/js/components/footer.js';

      // Insert header and footer
      const header = createHeader({ currentPage: 'graphics' });
      const footer = createFooter();

      document.body.insertAdjacentElement('afterbegin', header);
      document.body.insertAdjacentElement('beforeend', footer);
    </script>
    <script type="module" src="../assets/js/social-graphics.js"></script>
  </body>
</html>
